<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Insuremart</title>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --primary-color: #FF5B61;
      --primary-dark: #E84C52;
      --secondary-color: #F59E0B;
      --accent-color: #FF4A50;
      --text-primary: #1E293B;
      --text-secondary: #64748B;
      --bg-primary: #FFFFFF;
      --bg-secondary: #FFF5F5;
      --bg-pink: #FFEBEB;
      --border-color: #F1F5F9;
      --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      --shadow-lg: 0 8px 24px rgba(255, 91, 97, 0.15);
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: #F8FAFC;
      color: var(--text-primary);
      line-height: 1.5;
      font-size: 14px;
    }

    .app {
      max-width: 428px;
      margin: 0 auto;
      background: #FFFFFF;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      box-shadow: 0 0 40px rgba(0, 0, 0, 0.1);
    }

    /* Header */
    .home-header {
      background: linear-gradient(135deg, #FF5B61 0%, #FF4A50 50%, #E84C52 100%);
      color: white;
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .header-top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.75rem 1rem;
    }

    .menu-btn {
      background: none;
      border: none;
      color: white;
      cursor: pointer;
      padding: 0.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .brand-logo {
      display: flex;
      align-items: center;
    }

    .brand-logo-text {
      font-size: 1.125rem;
      font-weight: 700;
      color: white;
      letter-spacing: 0.5px;
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .header-icon-btn {
      background: none;
      border: none;
      color: white;
      cursor: pointer;
      padding: 0.5rem;
      position: relative;
    }

    .header-icon-btn.chat-btn {
      background: rgba(37, 211, 102, 0.2);
      border-radius: 50%;
      color: #25D366;
      transition: all 0.2s ease;
    }

    .header-icon-btn.chat-btn:hover {
      background: rgba(37, 211, 102, 0.35);
      transform: scale(1.1);
    }

    .header-icon-btn.chat-btn i {
      color: #25D366;
    }

    .chat-pulse {
      position: absolute;
      top: 4px;
      right: 4px;
      width: 10px;
      height: 10px;
      background: #25D366;
      border-radius: 50%;
      border: 2px solid var(--primary-color);
      animation: pulse-ring 1.5s ease-out infinite;
    }

    @keyframes pulse-ring {
      0% {
        box-shadow: 0 0 0 0 rgba(37, 211, 102, 0.7);
      }
      70% {
        box-shadow: 0 0 0 6px rgba(37, 211, 102, 0);
      }
      100% {
        box-shadow: 0 0 0 0 rgba(37, 211, 102, 0);
      }
    }

    .notification-dot {
      position: absolute;
      top: 6px;
      right: 6px;
      width: 8px;
      height: 8px;
      background: var(--secondary-color);
      border-radius: 50%;
      border: 2px solid var(--primary-color);
    }

    /* Welcome Section */
    .welcome-section {
      background: linear-gradient(180deg, #FFD4D6 0%, #FFECD2 100%);
      padding: 1.25rem 1rem 0;
      position: relative;
      overflow: hidden;
    }

    .welcome-content {
      position: relative;
      z-index: 2;
      text-align: center;
      padding-bottom: 1rem;
    }

    .welcome-text {
      font-size: 0.875rem;
      color: var(--text-secondary);
      margin-bottom: 0.25rem;
    }

    .user-name {
      font-size: 1.25rem;
      font-weight: 700;
      color: var(--text-primary);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .welcome-illustration {
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 100px;
      pointer-events: none;
    }

    .illustration-left,
    .illustration-right {
      width: 100px;
      height: 100px;
    }

    /* Stats Row */
    .stats-card {
      background: white;
      margin: -0.5rem 1rem 0;
      border-radius: 16px;
      box-shadow: var(--shadow);
      display: flex;
      align-items: stretch;
      position: relative;
      z-index: 10;
      overflow: hidden;
    }

    .stat-item {
      flex: 1;
      padding: 1rem 0.75rem;
      text-align: center;
      border-right: 1px solid var(--border-color);
      cursor: pointer;
      transition: background 0.2s;
    }

    .stat-item:hover {
      background: var(--bg-secondary);
    }

    .stat-item:last-child {
      border-right: none;
    }

    .stat-label {
      font-size: 0.7rem;
      color: var(--text-secondary);
      margin-bottom: 0.25rem;
      line-height: 1.3;
    }

    .stat-value {
      font-size: 1.25rem;
      font-weight: 700;
      color: var(--primary-color);
    }

    .vitality-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 0.25rem;
    }

    .vitality-icon {
      color: var(--primary-color);
    }

    .vitality-text {
      font-size: 0.65rem;
      font-weight: 600;
      color: var(--primary-color);
      line-height: 1.2;
    }

    /* Main Content */
    .home-main {
      flex: 1;
      background: var(--bg-pink);
      padding: 1.25rem 1rem;
      padding-bottom: 100px;
      overflow-y: auto;
    }

    /* What's New Section */
    .whats-new-section {
      margin-bottom: 1.5rem;
    }

    .whats-new-scroll {
      display: flex;
      gap: 0.75rem;
      overflow-x: auto;
      padding-bottom: 0.5rem;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
    }

    .whats-new-scroll::-webkit-scrollbar {
      display: none;
    }

    .whats-new-card {
      min-width: 120px;
      flex: 1;
      max-width: 140px;
      background: white;
      border-radius: 16px;
      padding: 0.875rem;
      box-shadow: var(--shadow);
      scroll-snap-align: start;
      cursor: pointer;
      transition: transform 0.2s;
      position: relative;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      min-height: 140px;
    }

    .whats-new-card:hover {
      transform: translateY(-2px);
    }

    .card-badge {
      display: inline-block;
      font-size: 0.55rem;
      font-weight: 700;
      text-transform: uppercase;
      padding: 0.2rem 0.4rem;
      border-radius: 4px;
      margin-bottom: 0.375rem;
      align-self: flex-start;
    }

    .badge-updates {
      background: var(--primary-color);
      color: white;
    }

    .badge-new {
      background: #10B981;
      color: white;
    }

    .card-title {
      font-size: 0.8rem;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: auto;
      line-height: 1.3;
    }

    .card-illustration {
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-top: 0.5rem;
    }

    .card-illustration img {
      max-height: 100%;
      object-fit: contain;
    }

    .card-illustration svg {
      width: 40px;
      height: 40px;
      color: var(--primary-color);
    }

    /* Featured Services */
    .featured-section {
      margin-bottom: 1.5rem;
    }

    .section-title {
      font-size: 1.125rem;
      font-weight: 700;
      margin-bottom: 1rem;
      color: var(--text-primary);
    }

    .services-grid {
      display: flex;
      gap: 0.5rem;
      overflow-x: auto;
      padding-bottom: 0.5rem;
      -webkit-overflow-scrolling: touch;
    }

    .services-grid::-webkit-scrollbar {
      display: none;
    }

    .service-item {
      min-width: 72px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;
      cursor: pointer;
      padding: 0.5rem;
      transition: transform 0.2s;
    }

    .service-item:hover {
      transform: translateY(-2px);
    }

    .service-icon {
      width: 56px;
      height: 56px;
      background: white;
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: var(--shadow);
      border: 1px solid var(--border-color);
    }

    .service-icon svg {
      width: 28px;
      height: 28px;
      color: var(--primary-color);
    }

    .service-label {
      font-size: 0.7rem;
      color: var(--text-primary);
      text-align: center;
      font-weight: 500;
      line-height: 1.2;
      max-width: 72px;
    }

    /* Highlights Section */
    .highlights-section {
      background: white;
      margin: 0 -1rem;
      padding: 1.5rem 1rem;
    }

    .highlights-header {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }

    .highlights-indicator {
      width: 4px;
      height: 20px;
      background: var(--primary-color);
      border-radius: 2px;
    }

    .highlights-scroll {
      display: flex;
      gap: 1rem;
      overflow-x: auto;
      padding-bottom: 0.5rem;
      -webkit-overflow-scrolling: touch;
    }

    .highlights-scroll::-webkit-scrollbar {
      display: none;
    }

    .highlight-card {
      min-width: 200px;
      background: linear-gradient(135deg, #FFF5F5 0%, #FFEBEB 100%);
      border-radius: 16px;
      overflow: hidden;
      cursor: pointer;
      transition: transform 0.2s;
      box-shadow: var(--shadow);
    }

    .highlight-card:hover {
      transform: translateY(-2px);
    }

    .highlight-image {
      height: 120px;
      background: linear-gradient(135deg, #FF9A9E 0%, #FECFEF 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }

    .highlight-image svg {
      width: 64px;
      height: 64px;
      color: white;
      opacity: 0.8;
    }

    .promo-badge {
      position: absolute;
      top: 0.75rem;
      left: 0.75rem;
      background: white;
      color: var(--primary-color);
      font-size: 0.65rem;
      font-weight: 700;
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      text-transform: uppercase;
    }

    .highlight-content {
      padding: 1rem;
    }

    .highlight-title {
      font-size: 0.875rem;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 0.25rem;
    }

    .highlight-desc {
      font-size: 0.75rem;
      color: var(--text-secondary);
    }

    /* Plans Section */
    .plans-section {
      background: white;
      margin: 0 -1rem;
      padding: 1.5rem 1rem;
      margin-top: 1rem;
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }

    .see-all-btn {
      background: none;
      border: none;
      color: var(--primary-color);
      font-weight: 600;
      cursor: pointer;
      font-size: 0.875rem;
      display: flex;
      align-items: center;
      gap: 0.25rem;
    }

    .plans-list {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .plan-card {
      background: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-radius: 16px;
      padding: 1.25rem;
      display: flex;
      flex-direction: column;
      gap: 1rem;
      transition: box-shadow 0.2s;
    }

    .plan-card:hover {
      box-shadow: var(--shadow);
    }

    .plan-header {
      display: flex;
      gap: 1rem;
      align-items: flex-start;
    }

    .plan-icon {
      width: 52px;
      height: 52px;
      background: white;
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      box-shadow: 0 2px 8px rgba(255, 91, 97, 0.15);
    }

    .plan-icon i {
      width: 28px;
      height: 28px;
      color: var(--primary-color);
    }

    .plan-info {
      flex: 1;
    }

    .plan-name {
      font-size: 1rem;
      font-weight: 700;
      margin-bottom: 0.25rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .plan-description {
      font-size: 0.8rem;
      color: var(--text-secondary);
      line-height: 1.4;
    }

    .coming-soon-badge {
      display: inline-block;
      background: var(--text-secondary);
      color: white;
      padding: 0.2rem 0.5rem;
      border-radius: 6px;
      font-size: 0.6rem;
      font-weight: 700;
      text-transform: uppercase;
    }

    .plan-coverage {
      font-size: 1rem;
      font-weight: 700;
      color: var(--primary-color);
    }

    .plan-features {
      list-style: none;
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    .plan-features li {
      font-size: 0.75rem;
      color: var(--text-secondary);
      display: flex;
      align-items: center;
      background: white;
      padding: 0.375rem 0.625rem;
      border-radius: 20px;
    }

    .plan-features li i {
      width: 14px;
      height: 14px;
      margin-right: 0.375rem;
      color: #10B981;
    }

    .plan-card.coming-soon {
      opacity: 0.7;
    }

    .plan-btn {
      background: var(--primary-color);
      color: white;
      border: none;
      border-radius: 10px;
      padding: 0.875rem;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s, transform 0.2s;
      font-size: 0.875rem;
    }

    .plan-btn:hover {
      background: var(--primary-dark);
      transform: translateY(-1px);
    }

    .plan-btn:disabled,
    .plan-btn.coming-soon-btn {
      background: #E2E8F0;
      color: var(--text-secondary);
      cursor: not-allowed;
      transform: none;
    }

    /* Bottom Navigation */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 100%;
      max-width: 428px;
      background: white;
      border-top: 1px solid var(--border-color);
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 0.5rem 0.5rem;
      z-index: 100;
      gap: 0;
    }

    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 0.25rem;
      background: none;
      border: none;
      cursor: pointer;
      padding: 0.375rem;
      color: var(--text-secondary);
      transition: color 0.2s;
      text-decoration: none;
      flex: 1 1 0;
      min-width: 0;
      text-align: center;
    }

    .nav-item.active {
      color: var(--primary-color);
    }

    .nav-item.help-special {
      background: var(--primary-color);
      color: white;
      border-radius: 50%;
      width: 56px;
      height: 56px;
      min-width: 56px;
      max-width: 56px;
      padding: 0;
      margin-top: -0.75rem;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 3px solid white;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
      flex: 1 1 0;
      position: relative;
    }

    .nav-item.help-special .nav-label {
      display: block;
      font-size: 0.7rem;
      font-weight: 600;
      color: white;
      margin: 0;
      line-height: 1;
    }

    .nav-item.help-special .ai-badge {
      position: absolute;
      top: -12px;
      right: -20px;
      background: white;
      border-radius: 12px;
      padding: 0.25rem 0.5rem;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
      display: flex;
      align-items: center;
      gap: 0.25rem;
      font-size: 0.6rem;
      font-weight: 600;
      color: var(--primary-color);
      white-space: nowrap;
      z-index: 10;
    }

    .nav-item.help-special .ai-badge::after {
      content: '';
      position: absolute;
      bottom: -4px;
      left: 20px;
      width: 0;
      height: 0;
      border-left: 4px solid transparent;
      border-right: 4px solid transparent;
      border-top: 4px solid white;
    }

    .nav-item.help-special i {
      display: none;
    }

    .nav-label {
      font-size: 0.6875rem;
      font-weight: 500;
    }


    /* Hidden class */
    .hidden {
      display: none !important;
    }

    /* Animations */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .animate-in {
      animation: fadeInUp 0.4s ease-out forwards;
    }
  </style>
  </head>
  <body>
    <div class="app">
      <!-- Header -->
      <header class="home-header">
        <div class="header-top-bar">
          <button class="menu-btn">
            <i data-lucide="menu" style="width: 24px; height: 24px;"></i>
          </button>
          <div class="brand-logo">
            <span class="brand-logo-text">INSURER MART</span>
          </div>
          <div class="header-actions">
            <button class="header-icon-btn chat-btn" onclick="window.open('https://wa.me/60122190198', '_blank')">
              <i data-lucide="message-circle" style="width: 22px; height: 22px;"></i>
              <span class="chat-pulse"></span>
            </button>
            <button class="header-icon-btn">
              <i data-lucide="bell" style="width: 22px; height: 22px;"></i>
              <span class="notification-dot"></span>
            </button>
          </div>
        </div>
        
      </header>

      <!-- Welcome Section -->
      <section class="welcome-section">
        <div class="welcome-content">
          <p class="welcome-text">Welcome back,</p>
          <h2 class="user-name" id="user-name-display">Guest User</h2>
        </div>
        <div class="welcome-illustration">
          <!-- Decorative background -->
        </div>
      </section>

      <!-- Stats Card -->
      <div class="stats-card">
        <div class="stat-item" onclick="window.location.href='policy.html'">
          <div class="stat-label">Individual<br>Plans</div>
          <div class="stat-value" id="individual-plans-count">0</div>
        </div>
        <div class="stat-item" onclick="window.location.href='policy.html'">
          <div class="stat-label">Family<br>Plans</div>
          <div class="stat-value" id="family-plans-count">0</div>
        </div>
        <div class="stat-item vitality-item">
          <i data-lucide="heart-pulse" class="vitality-icon" style="width: 24px; height: 24px;"></i>
          <span class="vitality-text">Join Health<br>Program</span>
        </div>
      </div>

      <!-- Main Content -->
      <main class="home-main">
        <!-- What's New Section -->
        <section class="whats-new-section">
          <div class="whats-new-scroll">
            <div class="whats-new-card" onclick="window.location.href='policy.html'">
              <span class="card-badge badge-updates">• New Updates</span>
              <h4 class="card-title">Things to do</h4>
              <div class="card-illustration">
                <i data-lucide="clipboard-list"></i>
              </div>
            </div>
            <div class="whats-new-card" onclick="window.location.href='deals.html'">
              <span class="card-badge" style="visibility: hidden;">• Hidden</span>
              <h4 class="card-title">What's new for you</h4>
              <div class="card-illustration">
                <i data-lucide="gift"></i>
              </div>
            </div>
            <div class="whats-new-card" onclick="window.location.href='policy.html'">
              <span class="card-badge badge-new">• New</span>
              <h4 class="card-title">E-Cards</h4>
              <div class="card-illustration">
                <i data-lucide="id-card"></i>
              </div>
            </div>
          </div>
        </section>

        <!-- Featured Services -->
        <section class="featured-section">
          <h3 class="section-title">Featured Services</h3>
          <div class="services-grid">
            <div class="service-item" onclick="window.location.href='medical-plan-filter.html'">
              <div class="service-icon">
                <i data-lucide="shopping-bag"></i>
              </div>
              <span class="service-label">Buy</span>
            </div>
            <div class="service-item" onclick="handleClaimClick()">
              <div class="service-icon">
                <i data-lucide="file-text"></i>
              </div>
              <span class="service-label">Claims</span>
            </div>
            <div class="service-item" onclick="window.location.href='medical-providers.html'">
              <div class="service-icon">
                <i data-lucide="building-2"></i>
              </div>
              <span class="service-label">Medical Providers</span>
            </div>
            <div class="service-item" onclick="window.location.href='find-an-agent.html'">
              <div class="service-icon">
                <i data-lucide="user-check"></i>
              </div>
              <span class="service-label">Agent Assistance</span>
            </div>
            <div class="service-item">
              <div class="service-icon">
                <i data-lucide="more-horizontal"></i>
              </div>
              <span class="service-label">More</span>
            </div>
          </div>
        </section>

        <!-- Highlights Section -->
        <section class="highlights-section">
          <div class="highlights-header">
            <div class="highlights-indicator"></div>
            <h3 class="section-title" style="margin-bottom: 0;">Highlights</h3>
          </div>
          <div class="highlights-scroll">
            <div class="highlight-card" onclick="window.location.href='deals.html'">
              <div class="highlight-image" style="background: linear-gradient(135deg, #FF6B6B 0%, #FFE66D 100%);">
                <span class="promo-badge">Promotion</span>
                <i data-lucide="percent"></i>
              </div>
              <div class="highlight-content">
                <h4 class="highlight-title">Festive Offers</h4>
                <p class="highlight-desc">Special discounts await!</p>
              </div>
            </div>
            <div class="highlight-card">
              <div class="highlight-image" style="background: linear-gradient(135deg, #A8E6CF 0%, #88D8B0 100%);">
                <i data-lucide="coins"></i>
              </div>
              <div class="highlight-content">
                <h4 class="highlight-title">Rewards Campaign</h4>
                <p class="highlight-desc">Earn bonus points now</p>
              </div>
            </div>
            <div class="highlight-card">
              <div class="highlight-image" style="background: linear-gradient(135deg, #DDA0DD 0%, #E6E6FA 100%);">
                <i data-lucide="users"></i>
              </div>
              <div class="highlight-content">
                <h4 class="highlight-title">Refer a Friend</h4>
                <p class="highlight-desc">Get RM50 voucher</p>
              </div>
            </div>
          </div>
        </section>

        <!-- Plans Section -->
        <section class="plans-section">
          <div class="section-header">
            <h3 class="section-title" style="margin-bottom: 0;">Insurance Plans</h3>
            <button class="see-all-btn" onclick="window.location.href='medical-plan-filter.html'">
              See All
              <i data-lucide="chevron-right" style="width: 16px; height: 16px;"></i>
            </button>
          </div>
          <div class="plans-list" id="plans-list">
            <!-- Plans will be rendered here -->
          </div>
        </section>
      </main>

      <!-- Bottom Navigation -->
      <nav class="bottom-nav">
        <a href="index.html" class="nav-item active">
          <i data-lucide="search" style="width: 24px; height: 24px;"></i>
          <span class="nav-label">Explore</span>
        </a>
        <a href="policy.html" class="nav-item">
          <i data-lucide="file-text" style="width: 24px; height: 24px;"></i>
          <span class="nav-label">My Policies</span>
        </a>
        <a href="help.html" class="nav-item help-special">
          <span class="nav-label">Help</span>
          <span class="ai-badge">
            <span>AI Consultant</span>
          </span>
        </a>
        <a href="deals.html" class="nav-item">
          <i data-lucide="tag" style="width: 24px; height: 24px;"></i>
          <span class="nav-label">Deals</span>
        </a>
        <a href="profile.html" class="nav-item">
          <i data-lucide="more-vertical" style="width: 24px; height: 24px;"></i>
          <span class="nav-label">More</span>
        </a>
      </nav>
    </div>

    <script>
    // App State
    let isGuest = true;
 
    // Check login state from sessionStorage
    if (sessionStorage.getItem('isLoggedIn') === 'true') {
      isGuest = false;
    }

    // Data
    const healthPlans = [
      { 
        category: 'Individual', 
        icon: 'user', 
        description: 'Personal health coverage for individuals', 
        coverage: 'Up to RM 1 Million',
        features: ['OPD Coverage', 'Cashless Treatment', 'Pre-existing Conditions', 'Annual Checkup'],
        comingSoon: false
      },
      { 
        category: 'Family', 
        icon: 'users', 
        description: 'Comprehensive coverage for your entire family', 
        coverage: 'Up to RM 2.5 Million',
        features: ['Family Coverage', 'OPD Coverage', 'Cashless Treatment', 'Maternity Benefits'],
        comingSoon: true
      },
      { 
        category: 'Group', 
        icon: 'building-2', 
        description: 'Corporate and group health insurance plans', 
        coverage: 'Up to RM 5 Million',
        features: ['Group Discounts', 'Cashless Treatment', 'OPD Coverage', 'Wellness Programs'],
        comingSoon: true
      }
    ];

    // Initialize Lucide icons
    lucide.createIcons();

    // Update User Display
    function updateUserDisplay() {
      const userNameDisplay = document.getElementById('user-name-display');
      const individualCount = document.getElementById('individual-plans-count');
      const familyCount = document.getElementById('family-plans-count');
      
      if (!isGuest) {
        const userName = sessionStorage.getItem('userName') || 'John Doe';
        userNameDisplay.textContent = userName.toUpperCase();
        individualCount.textContent = '2';
        familyCount.textContent = '1';
      } else {
        userNameDisplay.textContent = 'JOHN DOE';
        individualCount.textContent = '0';
        familyCount.textContent = '0';
      }
    }

    // Render Plans
    function renderPlans() {
      const plansList = document.getElementById('plans-list');
      
      plansList.innerHTML = healthPlans.map(plan => `
        <div class="plan-card ${plan.comingSoon ? 'coming-soon' : ''}">
          <div class="plan-header">
            <div class="plan-icon">
              <i data-lucide="${plan.icon}"></i>
            </div>
            <div class="plan-info">
              <h4 class="plan-name">
                ${plan.category}
                ${plan.comingSoon ? '<span class="coming-soon-badge">Coming Soon</span>' : ''}
              </h4>
              <p class="plan-description">${plan.description}</p>
            </div>
          </div>
          <div class="plan-coverage">${plan.coverage}</div>
          <ul class="plan-features">
            ${plan.features.map(feature => `
              <li>
                <i data-lucide="check"></i>
                ${feature}
              </li>
            `).join('')}
          </ul>
          <button class="plan-btn ${plan.comingSoon ? 'coming-soon-btn' : ''}" 
            ${plan.comingSoon ? 'disabled' : `onclick="window.location.href='medical-plan-filter.html'"`}>
            ${plan.comingSoon ? 'Coming Soon' : 'View Plans'}
          </button>
        </div>
      `).join('');
      
      lucide.createIcons();
    }

    // Handle Claim Click
    function handleClaimClick() {
      const isGuestUser = sessionStorage.getItem('isLoggedIn') !== 'true';
      if (isGuestUser) {
        window.location.href = 'login.html?return=index.html';
      } else {
        // TODO: Navigate to claims page when implemented
        alert('Claims feature coming soon!');
      }
    }

    // Event Listeners
    document.addEventListener('DOMContentLoaded', () => {
      renderPlans();
      updateUserDisplay();
      lucide.createIcons();
    });
  </script>
  </body>
</html>
